# Copyright 2025 ETH Zurich and University of Bologna.
# Solderpad Hardware License, Version 0.51, see LICENSE for details.
# SPDX-License-Identifier: SHL-0.51

package:
  name: konark_cluster
  authors:
    - "Cyrill Durrer <cdurrer@iis.ee.ethz.ch>"

dependencies:
  # axi:                { git: "https://github.com/pulp-platform/axi.git",                      rev: "master" }
  snitch_cluster:       { git: "https://github.com/pulp-platform/snitch_cluster.git",           rev: "5b2fccd96c42812774c20ab2f9b811e164809789" } #"4652c6b05886757c5cbe3dfe77c196dcd71e08e7" } #"5d6c957c70e3824e2330d8308eb904724cd41cbe" }

workspace:
  package_links:
    .deps/snitch_cluster: snitch_cluster

sources:
  # Source files grouped in levels. Files in level 0 have no dependencies on files in this
  # package. Files in level 1 only depend on files in level 0, files in level 2 on files in
  # levels 1 and 0, etc. Files within a level are ordered alphabetically.
  # Level 0
  - target: pb_gen_rtl
    files:
      # Level 0.0
      - .generated/snitch_cluster_pkg.sv
      # - .generated/pb_soc_regs_pkg.sv
      # Level 0.1
      # - .generated/pb_soc_regs.sv
      - .generated/snitch_cluster_wrapper.sv

  # Level 1
  # - hw/picobello_pkg.sv
  - hw/snitch_hwpe_subsystem.sv
  - hw/snitch_tcdm_aligner.sv
  # Level 2
  - hw/konark_cluster_top.sv

  # # Level 3
  # - hw/picobello_top.sv

  - target: any(simulation, test)
    include_dirs:
      - .generated
      - target/sim/include
    files:
      - target/sim/src/testharness_konark_cluster.sv
      # - target/sim/src/tb_konark_cluster.sv


  # - target: asic
  #   files:
  #   - pd/hw/picobello_chip.sv

  # - target: all(any(simulation, test), asic)
  #   include_dirs:
  #     - .generated
  #     - pd/target/sim/include
  #     - target/sim/include
  #   files:
  #     - pd/target/sim/src/fixture_picobello_chip.sv
  #     - pd/target/sim/src/tb_picobello_chip.sv
  #     - pd/target/sim/src/tb_picobello_chip_config.sv
